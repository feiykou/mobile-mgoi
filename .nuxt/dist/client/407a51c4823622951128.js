(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{276:function(t,e,n){},328:function(t,e,n){"use strict";var r=n(276);n.n(r).a},376:function(t,e,n){"use strict";n.r(e);n(91),n(31);var r,c=n(5),o=n(316),d=n(258),l=n(107),m=(n(48),n(244)),v=n(110),h={watchQuery:["id"],layout:"main",data:function(){return{cateData:null,productsData:null,crumbArr:[{name:"产品分类",id:0}],curName:"产品分类",curCateId:0,curPriceIndex:0,isShowTab:!0}},components:{productItem:m.a,CateLoading:o.a,ProductListLoading:d.a,cateList:v.a},asyncData:(r=Object(c.a)(regeneratorRuntime.mark((function t(e){var n,r,c,o,d,m,v,h,f,C,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.app,n=e.query,r=e.store,c=e.error,o=n.id,d=n.name,m=null,v=null,t.next=5,l.a.getProductsByCate(o);case 5:return m=t.sent,t.next=8,l.a.getSonCate(o);case 8:return v=t.sent,h=r.state.cate.crumbCate,f=[],C={},_=[{name:"产品分类",id:0}],h.forEach((function(t,e){d||h.length-1!==e||(d=t.name),C.name=t.name,C.id=t.id,f.push(C),C={}})),d||(d="产品分类"),v||c({statusCode:404,message:"页面加载失败，请重新加载"}),t.abrupt("return",{cateData:v,productsData:m.collection,crumbArr:[].concat(_,f),curName:d,curCateId:o});case 15:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)}),fetch:function(t){var e=t.store,n=t.query.id||0;e.dispatch("cate/getParentCate",n)},head:function(){return this.$seo("产品列表 - 唔该","正处于萌芽阶段")},created:function(){},methods:{priceSort:function(t){var e=t.currentTarget.dataset.index;this.curPriceIndex=e,this.getProductsByCate(this.curCateId,e)},cateTap:function(t){var e=t.currentTarget.dataset.id,n=t.currentTarget.dataset.name;this.curName=n,this.crumbArr.push({id:e,name:n}),this._loadData(e)},crumbTap:function(t){var e=t.currentTarget.dataset.index,n=this.crumbArr;n=n.slice(0,1*e+1),this.curName=n[e].name,this.crumbArr=n,this._loadData(n[e].id)},_loadData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.curCateId=t,this.getSonCate(t),this.getProductsByCate(t)},getSonCate:function(t){var e=this;this.cateData=null,l.a.getSonCate(t).then((function(t){setTimeout((function(){e.cateData=t}),600)}))},getProductsByCate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.productsData=null,l.a.getProductsByCate(e,n).then((function(e){console.log(e),setTimeout((function(){t.productsData=e.collection}),600)}))}}},f=(n(328),n(4)),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-section product-list-container"},[n("thumb",[n("thumb-item",[t._v("首页")]),t._v(" "),t._l(t.crumbArr,(function(e,r){return n("thumb-item",{key:r,attrs:{"data-index":r},nativeOn:{click:function(e){return t.crumbTap(e)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))],2),t._v(" "),n("div",{staticClass:"cate-container"},[n("div",{staticClass:"current-name font25"},[t._v(t._s(t.curName))]),t._v(" "),n("div",{staticClass:"cate-sec"},[t.cateData?n("ul",{staticClass:"cate-list"},t._l(t.cateData,(function(e,r){return n("li",{key:r,attrs:{"data-id":e.id,"data-name":e.name},on:{click:t.cateTap}},[n("span",{staticClass:"font12"},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"img"},[n("img",{attrs:{src:e.mobile_imgs_url[0],alt:""}})])])})),0):n("CateLoading")],1)]),t._v(" "),n("div",{staticClass:"product-wrap"},[n("div",{staticClass:"filter-wrap"},[n("div",{staticClass:"product-num font12"},[n("span",[n("i",{staticClass:"font18"},[t._v(t._s(t.productsData.length))]),t._v("件商品")])]),t._v(" "),n("dl",{staticClass:"filter-list font12"},[n("dt",[t._v("排序方式：")]),t._v(" "),n("dd",{class:{active:1==t.curPriceIndex},attrs:{"data-index":1},on:{click:t.priceSort}},[t._v("价格高至低")]),t._v(" "),n("dd",{class:{active:2==t.curPriceIndex},attrs:{"data-index":2},on:{click:t.priceSort}},[t._v("价格低至高")])])]),t._v(" "),n("div",{staticClass:"product-list"},[t.productsData?n("div",{staticClass:"product-item-wrap"},t._l(t.productsData,(function(t,e){return n("productItem",{key:e,staticClass:"product-item",attrs:{simple:!0,productData:t}})})),1):n("ProductListLoading")],1)]),t._v(" "),n("cate-list")],1)}),[],!1,null,null,null);e.default=component.exports}}]);