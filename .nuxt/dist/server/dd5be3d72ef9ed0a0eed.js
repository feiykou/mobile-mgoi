exports.ids=[15],exports.modules={114:function(t,e){},115:function(t,e){},153:function(t,e,r){"use strict";r.r(e);var c=r(114),n=r.n(c);for(var d in c)"default"!==d&&function(t){r.d(e,t,(function(){return c[t]}))}(d);e.default=n.a},154:function(t,e,r){"use strict";r.r(e);var c=r(115),n=r.n(c);for(var d in c)"default"!==d&&function(t){r.d(e,t,(function(){return c[t]}))}(d);e.default=n.a},176:function(t,e,r){"use strict";r.r(e);var c=r(81),n={name:"cate-loading",props:{counts:{type:Number,default:3}},components:{ContentLoader:c.ContentLoader}},d=r(1);var o=Object(d.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cate-box"},t._l(t.counts,(function(e,c){return t._ssrNode('<div class="cate-loader">',"</div>",[r("content-loader",{attrs:{height:134,width:125,speed:2,primaryColor:"#d4d4d4",secondaryColor:"#ecebeb"}},[r("rect",{attrs:{x:"47",y:"17",rx:"0",ry:"0",width:"28",height:"14"}}),t._v(" "),r("rect",{attrs:{x:"38.5",y:"46",rx:"0",ry:"0",width:"46",height:"46"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"128.27",rx:"0",ry:"0",width:"125",height:"1"}})])],1)})),0)}),[],!1,(function(t){var e=r(153);e.__inject__&&e.__inject__(t)}),null,"baf85f82").exports,l=r(90),_=r(31),f=(r(6),r(84)),v=r(35),h={watchQuery:["id"],layout:"main",data:()=>({cateData:null,productsData:null,crumbArr:[{name:"产品分类",id:0}],curName:"产品分类",curCateId:0,curPriceIndex:0,isShowTab:!0}),components:{productItem:f.a,CateLoading:o,ProductListLoading:l.a,cateList:v.a},async asyncData({app:t,query:e,store:r,error:c}){let{id:n,name:d}=e,o=null,l=null;o=await _.a.getProductsByCate(n),l=await _.a.getSonCate(n);const f=r.state.cate.crumbCate;let v=[],h={};return f.forEach((t,e)=>{d||f.length-1!==e||(d=t.name),h.name=t.name,h.id=t.id,v.push(h),h={}}),d||(d="产品分类"),l||c({statusCode:404,message:"页面加载失败，请重新加载"}),{cateData:l,productsData:o.data,crumbArr:[{name:"产品分类",id:0},...v],curName:d,curCateId:n}},fetch({store:t,query:e}){const r=e.id||0;t.dispatch("cate/getParentCate",r)},head(){return this.$seo("产品列表 - 唔该","正处于萌芽阶段")},created(){},methods:{priceSort(t){const e=t.currentTarget.dataset.index;this.curPriceIndex=e,this.getProductsByCate(this.curCateId,e)},cateTap(t){const e=t.currentTarget.dataset.id,r=t.currentTarget.dataset.name;this.curName=r,this.crumbArr.push({id:e,name:r}),this._loadData(e)},crumbTap(t){const e=t.currentTarget.dataset.index;let r=this.crumbArr;r=r.slice(0,1*e+1),this.curName=r[e].name,this.crumbArr=r,this._loadData(r[e].id)},_loadData(t=0){this.curCateId=t,this.getSonCate(t),this.getProductsByCate(t)},getSonCate(t){this.cateData=null,_.a.getSonCate(t).then(t=>{setTimeout(()=>{this.cateData=t},600)})},getProductsByCate(t=0,e=0){this.productsData=null,_.a.getProductsByCate(t,e).then(t=>{setTimeout(()=>{this.productsData=t.data},600)})}}};var m=Object(d.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-section product-list-container"},[r("thumb",{staticClass:"font12"},[r("thumb-item",[t._v("首页")]),t._v(" "),t._l(t.crumbArr,(function(e,c){return r("thumb-item",{key:c,attrs:{"data-index":c},nativeOn:{click:function(e){return t.crumbTap(e)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))],2),t._ssrNode(" "),t._ssrNode('<div class="cate-container">',"</div>",[t._ssrNode('<div class="current-name font25">'+t._ssrEscape(t._s(t.curName))+"</div> "),t._ssrNode('<div class="cate-sec">',"</div>",[t.cateData?t._ssrNode('<ul class="cate-list">',"</ul>",[t._ssrNode(t._ssrList(t.cateData,(function(e,r){return"<li"+t._ssrAttr("data-id",e.id)+t._ssrAttr("data-name",e.name)+'><span class="font12">'+t._ssrEscape(t._s(e.name))+'</span> <div class="img"><img'+t._ssrAttr("src",e.img_url[0])+" alt></div></li>"})))],2):r("CateLoading")],1)],2),t._ssrNode(" "),t._ssrNode('<div class="product-wrap">',"</div>",[t._ssrNode('<div class="filter-wrap"><div class="product-num font12">'+(t.productsData?'<span><i class="font18">'+t._ssrEscape(t._s(t.productsData.length))+"</i>件商品</span>":"\x3c!----\x3e")+'</div> <dl class="filter-list font12"><dt>排序方式：</dt> <dd'+t._ssrAttr("data-index",1)+t._ssrClass(null,{active:1==t.curPriceIndex})+">价格高至低</dd> <dd"+t._ssrAttr("data-index",2)+t._ssrClass(null,{active:2==t.curPriceIndex})+">价格低至高</dd></dl></div> "),t._ssrNode('<div class="product-list">',"</div>",[t.productsData?t._ssrNode('<div class="product-item-wrap">',"</div>",t._l(t.productsData,(function(t,e){return r("productItem",{key:e,staticClass:"product-item",attrs:{simple:!0,productData:t}})})),1):r("ProductListLoading")],1)],2),t._ssrNode(" "),r("cate-list")],2)}),[],!1,(function(t){var e=r(154);e.__inject__&&e.__inject__(t)}),null,"45d701fa");e.default=m.exports},82:function(t,e){},83:function(t,e){},84:function(t,e,r){"use strict";var c={props:{productData:Object,simple:{type:Boolean,default:!1}}},n=r(1);var component=Object(n.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-item mgoi-product-item"},[t._ssrNode('<div hover-class="hover-class" class="img" data-v-7e99ae87>',"</div>",[r("nuxt-link",{attrs:{to:"/product/"+t.productData.id}},[r("img",{attrs:{src:t.productData.main_img_url[0]}})])],1),t._ssrNode(' <p hover-class="hover-class" class="tit font12" data-v-7e99ae87>'+t._ssrEscape(t._s(t.productData.name))+'</p> <p class="price font12" data-v-7e99ae87>'+t._ssrEscape("￥"+t._s(t.productData.price)+" 蚊")+"</p> "),t.simple?t._ssrNode('<div class="btn btn-animate btn-wrap font12" data-v-7e99ae87>',"</div>",[r("nuxt-link",{attrs:{to:"/product/"+t.productData.id}},[t._v("立即购买")])],1):t._e()],2)}),[],!1,(function(t){var e=r(85);e.__inject__&&e.__inject__(t)}),"7e99ae87","385b9ca6");e.a=component.exports},85:function(t,e,r){"use strict";r.r(e);var c=r(82),n=r.n(c);for(var d in c)"default"!==d&&function(t){r.d(e,t,(function(){return c[t]}))}(d);e.default=n.a},89:function(t,e,r){"use strict";r.r(e);var c=r(83),n=r.n(c);for(var d in c)"default"!==d&&function(t){r.d(e,t,(function(){return c[t]}))}(d);e.default=n.a},90:function(t,e,r){"use strict";var c=r(81),n={props:{counts:{type:Number,default:8}},components:{ContentLoader:c.ContentLoader}},d=r(1);var component=Object(d.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"product-list"},[t._l(t.counts,(function(e,c){return t._ssrNode("<li data-v-f8c7220a>","</li>",[r("content-loader",{attrs:{height:371,width:222,speed:2,primaryColor:"#d4d4d4",secondaryColor:"#ecebeb"}},[r("rect",{attrs:{x:"0",y:"0",rx:"0",ry:"0",width:"222",height:"222"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"242.27",rx:"0",ry:"0",width:"190",height:"16"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"268.27",rx:"0",ry:"0",width:"53",height:"16"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"300.27",rx:"0",ry:"0",width:"110",height:"16"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"335.27",rx:"0",ry:"0",width:"234",height:"51"}})])],1)})),t._ssrNode(" <li data-v-f8c7220a></li> <li data-v-f8c7220a></li> <li data-v-f8c7220a></li>")],2)}),[],!1,(function(t){var e=r(89);e.__inject__&&e.__inject__(t)}),"f8c7220a","774f870e");e.a=component.exports}};
//# sourceMappingURL=dd5be3d72ef9ed0a0eed.js.map