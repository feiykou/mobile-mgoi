exports.ids=[11],exports.modules={116:function(t,e){},118:function(t,e,r){"use strict";r.r(e);var c=r(116),n=r.n(c);for(var o in c)"default"!==o&&function(t){r.d(e,t,(function(){return c[t]}))}(o);e.default=n.a},120:function(t,e,r){"use strict";var c={props:{productData:Object,simple:{type:Boolean,default:!1}}},n=r(2);var component=Object(n.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-item"},[t._ssrNode('<div hover-class="hover-class" class="img" data-v-4791e4fc>',"</div>",[r("nuxt-link",{attrs:{to:"/product/"+t.productData.id}},[r("img",{attrs:{src:t.productData.main_img_url[0]}})])],1),t._ssrNode(' <p hover-class="hover-class" class="tit font12" data-v-4791e4fc>'+t._ssrEscape(t._s(t.productData.name))+'</p> <p class="price font12" data-v-4791e4fc>'+t._ssrEscape("￥"+t._s(t.productData.price)+" 蚊")+"</p> "),t.simple?t._ssrNode('<div class="btn btn-animate btn-wrap font12" data-v-4791e4fc>',"</div>",[r("nuxt-link",{attrs:{to:"/product/"+t.productData.id}},[t._v("立即购买")])],1):t._e()],2)}),[],!1,(function(t){var e=r(118);e.__inject__&&e.__inject__(t)}),"4791e4fc","385b9ca6");e.a=component.exports},131:function(t,e){},161:function(t,e){let r=0;t.exports={tabBarAnimate:function(t){let mark=!0;const e=r-t.scrollTop;if(t.scrollTop<60){if(mark==this.isShowTab)return;this.isShowTab=!0}else if(Math.abs(e)>50){if(mark=e>0,r=t.scrollTop,mark==this.isShowTab)return;this.isShowTab=mark}}}},162:function(t,e,r){"use strict";r.r(e);var c=r(131),n=r.n(c);for(var o in c)"default"!==o&&function(t){r.d(e,t,(function(){return c[t]}))}(o);e.default=n.a},182:function(t,e,r){"use strict";r.r(e);var c=r(37),n=(r(161),r(24),{watchQuery:["id"],data:()=>({cateData:null,productsData:null,crumbArr:[{name:"产品分类",id:0}],curName:"产品分类",curCateId:0,curPriceIndex:0,isShowTab:!0}),components:{productItem:r(120).a},async asyncData({app:t,query:e,store:r,error:n}){const{id:o,name:d}=e;let l=null,_=null;l=await c.a.getProductsByCate(o),_=await c.a.getSonCate(o);let m=[],v={};return[].forEach((t,e)=>{v.name=t.name,v.id=t.id,m.push(v),v={}}),_||n({statusCode:404,message:"页面加载失败，请重新加载"}),{cateData:_,productsData:l.data,crumbArr:[{name:"产品分类",id:0},...m],curName:d,curCateId:o}},fetch({store:t,query:e}){console.log(t)},head(){return this.$seo("产品列表 - 唔该","正处于萌芽阶段")},created(){},methods:{priceSort(t){const e=t.currentTarget.dataset.index;this.curPriceIndex=e,this.getProductsByCate(this.curCateId,e)},cateTap(t){const e=t.currentTarget.dataset.id,r=t.currentTarget.dataset.name;this.curName=r,this.crumbArr.push({id:e,name:r}),this._loadData(e)},crumbTap(t){const e=t.currentTarget.dataset.index;let r=this.crumbArr;r=r.slice(0,1*e+1),this.curName=r[e].name,this.crumbArr=r,this._loadData(r[e].id)},_loadData(t=0){this.curCateId=t,this.getSonCate(t),this.getProductsByCate(t)},getSonCate(t){this.cateData=null,c.a.getSonCate(t).then(t=>{setTimeout(()=>{this.cateData=t},600)})},getProductsByCate(t=0,e=0){this.productsData=null,c.a.getProductsByCate(t,e).then(t=>{setTimeout(()=>{this.productsData=t.data},600)})}}}),o=r(2);var component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-section"},[r("Header",{staticClass:"header-box",staticStyle:{height:"70px"},attrs:{curNavIndex:0,show:t.isShowTab}}),t._ssrNode(" "),r("transition",{attrs:{name:"slide-fade",appear:"",duration:2e3}},[r("div",{staticClass:"product-section"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right font14"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),t._l(t.crumbArr,(function(e,c){return r("el-breadcrumb-item",{key:c,staticClass:"crumb-item",attrs:{"data-index":c},nativeOn:{click:function(e){return t.crumbTap(e)}}},[t._v(t._s(e.name))])}))],2),t._v(" "),r("div",{staticClass:"cate-container"},[r("div",{staticClass:"current-name"},[t._v(t._s(t.curName))]),t._v(" "),r("div",{staticClass:"cate-sec"},[t.cateData?r("ul",{staticClass:"cate-list"},t._l(t.cateData,(function(e,c){return r("li",{key:c,attrs:{"data-id":e.id,"data-name":e.name},on:{click:t.cateTap}},[r("span",{staticClass:"font12"},[t._v(t._s(e.name))]),t._v(" "),r("div",{staticClass:"img"},[r("img",{attrs:{src:e.img_url[0],alt:""}})])])})),0):t._e()])]),t._v(" "),r("div",{staticClass:"product-wrap"},[r("div",{staticClass:"filter-wrap"},[r("div",{staticClass:"product-num"},[t.productsData?r("span",[t._v(t._s(t.productsData.length)+"件商品")]):t._e()]),t._v(" "),r("dl",{staticClass:"filter-list"},[r("dt",[t._v("排序方式：")]),t._v(" "),r("dd",{class:{active:1==t.curPriceIndex},attrs:{"data-index":1},on:{click:t.priceSort}},[t._v("价格高至低")]),t._v(" "),r("dd",{class:{active:2==t.curPriceIndex},attrs:{"data-index":2},on:{click:t.priceSort}},[t._v("价格低至高")])])]),t._v(" "),r("div",{staticClass:"product-list"},[t.productsData?r("div",{staticClass:"product-item-wrap"},t._l(t.productsData,(function(t,e){return r("productItem",{key:e,staticClass:"product-item",attrs:{simple:!0,productData:t}})})),1):t._e()])])],1)])],2)}),[],!1,(function(t){var e=r(162);e.__inject__&&e.__inject__(t)}),"92b1e0a2","45d701fa");e.default=component.exports}};
//# sourceMappingURL=5db95cfcd647f047dcff.js.map