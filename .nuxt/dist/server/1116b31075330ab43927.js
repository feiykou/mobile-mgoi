exports.ids=[13],exports.modules={100:function(t,e,r){"use strict";r.r(e);var c=r(81),n=r.n(c);for(var d in c)"default"!==d&&function(t){r.d(e,t,(function(){return c[t]}))}(d);e.default=n.a},101:function(t,e){},133:function(t,e,r){"use strict";var c=r(74),n={props:{counts:{type:Number,default:8}},components:{ContentLoader:c.ContentLoader}},d=r(1);var component=Object(d.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"product-list"},[t._l(t.counts,(function(e,c){return t._ssrNode("<li data-v-f8c7220a>","</li>",[r("content-loader",{attrs:{height:371,width:222,speed:2,primaryColor:"#d4d4d4",secondaryColor:"#ecebeb"}},[r("rect",{attrs:{x:"0",y:"0",rx:"0",ry:"0",width:"222",height:"222"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"242.27",rx:"0",ry:"0",width:"190",height:"16"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"268.27",rx:"0",ry:"0",width:"53",height:"16"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"300.27",rx:"0",ry:"0",width:"110",height:"16"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"335.27",rx:"0",ry:"0",width:"234",height:"51"}})])],1)})),t._ssrNode(" <li data-v-f8c7220a></li> <li data-v-f8c7220a></li> <li data-v-f8c7220a></li>")],2)}),[],!1,(function(t){var e=r(100);e.__inject__&&e.__inject__(t)}),"f8c7220a","683f239a");e.a=component.exports},141:function(t,e,r){"use strict";r.r(e);var c=r(99),n=r.n(c);for(var d in c)"default"!==d&&function(t){r.d(e,t,(function(){return c[t]}))}(d);e.default=n.a},142:function(t,e,r){"use strict";r.r(e);var c=r(101),n=r.n(c);for(var d in c)"default"!==d&&function(t){r.d(e,t,(function(){return c[t]}))}(d);e.default=n.a},166:function(t,e,r){"use strict";r.r(e);var c=r(74),n={name:"cate-loading",props:{counts:{type:Number,default:3}},components:{ContentLoader:c.ContentLoader}},d=r(1);var o=Object(d.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cate-box"},t._l(t.counts,(function(e,c){return t._ssrNode('<div class="cate-loader">',"</div>",[r("content-loader",{attrs:{height:134,width:125,speed:2,primaryColor:"#d4d4d4",secondaryColor:"#ecebeb"}},[r("rect",{attrs:{x:"47",y:"17",rx:"0",ry:"0",width:"28",height:"14"}}),t._v(" "),r("rect",{attrs:{x:"38.5",y:"46",rx:"0",ry:"0",width:"46",height:"46"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"128.27",rx:"0",ry:"0",width:"125",height:"1"}})])],1)})),0)}),[],!1,(function(t){var e=r(141);e.__inject__&&e.__inject__(t)}),null,"11d69138").exports,l=r(133),_=r(82),h=(r(4),r(79)),f=r(27),v={watchQuery:["id"],layout:"main",data:()=>({cateData:null,productsData:null,crumbArr:[{name:"产品分类",id:0}],curName:"产品分类",curCateId:0,curPriceIndex:0,isShowTab:!0}),components:{productItem:h.a,CateLoading:o,ProductListLoading:l.a,cateList:f.a},async asyncData({app:t,query:e,store:r,error:c}){const{id:n,name:d}=e;let o=null,l=null;o=await _.a.getProductsByCate(n),l=await _.a.getSonCate(n);let h=[],f={};return[].forEach((t,e)=>{f.name=t.name,f.id=t.id,h.push(f),f={}}),l||c({statusCode:404,message:"页面加载失败，请重新加载"}),{cateData:l,productsData:o.data,crumbArr:[{name:"产品分类",id:0},...h],curName:d,curCateId:n}},fetch({store:t,query:e}){console.log(t)},head(){return this.$seo("产品列表 - 唔该","正处于萌芽阶段")},created(){},methods:{priceSort(t){const e=t.currentTarget.dataset.index;this.curPriceIndex=e,this.getProductsByCate(this.curCateId,e)},cateTap(t){const e=t.currentTarget.dataset.id,r=t.currentTarget.dataset.name;this.curName=r,this.crumbArr.push({id:e,name:r}),this._loadData(e)},crumbTap(t){const e=t.currentTarget.dataset.index;let r=this.crumbArr;r=r.slice(0,1*e+1),this.curName=r[e].name,this.crumbArr=r,this._loadData(r[e].id)},_loadData(t=0){this.curCateId=t,this.getSonCate(t),this.getProductsByCate(t)},getSonCate(t){this.cateData=null,_.a.getSonCate(t).then(t=>{setTimeout(()=>{this.cateData=t},600)})},getProductsByCate(t=0,e=0){this.productsData=null,_.a.getProductsByCate(t,e).then(t=>{setTimeout(()=>{this.productsData=t.data},600)})}}};var m=Object(d.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-section product-list-container"},[r("thumb",{staticClass:"font12"},[r("thumb-item",[t._v("首页")]),t._v(" "),t._l(t.crumbArr,(function(e,c){return r("thumb-item",{key:c,attrs:{"data-index":c},nativeOn:{click:function(e){return t.crumbTap(e)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))],2),t._ssrNode(" "),t._ssrNode('<div class="cate-container">',"</div>",[t._ssrNode('<div class="current-name">'+t._ssrEscape(t._s(t.curName))+"</div> "),t._ssrNode('<div class="cate-sec">',"</div>",[t.cateData?t._ssrNode('<ul class="cate-list">',"</ul>",[t._ssrNode(t._ssrList(t.cateData,(function(e,r){return"<li"+t._ssrAttr("data-id",e.id)+t._ssrAttr("data-name",e.name)+'><span class="font12">'+t._ssrEscape(t._s(e.name))+'</span> <div class="img"><img'+t._ssrAttr("src",e.img_url[0])+" alt></div></li>"})))],2):r("CateLoading")],1)],2),t._ssrNode(" "),t._ssrNode('<div class="product-wrap">',"</div>",[t._ssrNode('<div class="filter-wrap"><div class="product-num">'+(t.productsData?"<span>"+t._ssrEscape(t._s(t.productsData.length)+"件商品")+"</span>":"\x3c!----\x3e")+'</div> <dl class="filter-list"><dt>排序方式：</dt> <dd'+t._ssrAttr("data-index",1)+t._ssrClass(null,{active:1==t.curPriceIndex})+">价格高至低</dd> <dd"+t._ssrAttr("data-index",2)+t._ssrClass(null,{active:2==t.curPriceIndex})+">价格低至高</dd></dl></div> "),t._ssrNode('<div class="product-list">',"</div>",[t.productsData?t._ssrNode('<div class="product-item-wrap">',"</div>",t._l(t.productsData,(function(t,e){return r("productItem",{key:e,staticClass:"product-item",attrs:{simple:!0,productData:t}})})),1):r("ProductListLoading")],1)],2),t._ssrNode(" "),r("cate-list")],2)}),[],!1,(function(t){var e=r(142);e.__inject__&&e.__inject__(t)}),null,"7a806a84");e.default=m.exports},75:function(t,e){},76:function(t,e,r){"use strict";r.r(e);var c=r(75),n=r.n(c);for(var d in c)"default"!==d&&function(t){r.d(e,t,(function(){return c[t]}))}(d);e.default=n.a},79:function(t,e,r){"use strict";var c={props:{productData:Object,simple:{type:Boolean,default:!1}}},n=r(1);var component=Object(n.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-item"},[t._ssrNode('<div hover-class="hover-class" class="img" data-v-0d7bc0d8>',"</div>",[r("nuxt-link",{attrs:{to:"/product/"+t.productData.id}},[r("img",{attrs:{src:t.productData.main_img_url[0]}})])],1),t._ssrNode(' <p hover-class="hover-class" class="tit font12" data-v-0d7bc0d8>'+t._ssrEscape(t._s(t.productData.name))+'</p> <p class="price font12" data-v-0d7bc0d8>'+t._ssrEscape("￥"+t._s(t.productData.price)+" 蚊")+"</p> "),t.simple?t._ssrNode('<div class="btn btn-animate btn-wrap font12" data-v-0d7bc0d8>',"</div>",[r("nuxt-link",{attrs:{to:"/product/"+t.productData.id}},[t._v("立即购买")])],1):t._e()],2)}),[],!1,(function(t){var e=r(76);e.__inject__&&e.__inject__(t)}),"0d7bc0d8","272b27e8");e.a=component.exports},81:function(t,e){},82:function(t,e,r){"use strict";var c=r(26);e.a={getSonCate:(t=0)=>c.a.fetchGet(`cate/sonCate/${t}`),getParentCate:(t=0)=>t<=0?[]:c.a.fetchGet(`cate/parents/${t}`),getProductsByCate(t=0,e=0,r=1,n=10){let d=`product/list/${t}?page=${r}&size=${n}`;return 1!=e&&2!=e||(d+="&sort="+e),c.a.fetchGet(d)},getProductDetail(t){if(!(t<=0))return c.a.fetchGet(`product/${t}/detail`)},getRescProduct:(t=5,e=5,r=0)=>c.a.fetchGet(`product/resc?rescId=${t}&count=${e}&id=${r}`),searchResult(q="",t=0,e=1,r=12){let n=q;return"undefined"==n&&(n=""),n=encodeURI(encodeURI(n)),console.log(t),c.a.fetchGet(`product/search?q=${n}&sort=${t}&page=${e}&size=${r}`)}}},99:function(t,e){}};
//# sourceMappingURL=1116b31075330ab43927.js.map